{"name":"Wolf-search-engine","tagline":"Create your own search engine, easily and quick!","body":"# Wolf-Search-Engine\r\n**Create your own custom search engine, easily and quickly!**\r\n\r\n## What is WSE?\r\nWSE permits you to create customized search engines in a few lines.\r\n\r\n* It can be used for all types of data you can search inside a database.\r\n* It is scalable made and object-oriented.\r\n* It is protected against **SQL injections**\r\n\r\n## How does WSE works?\r\nWSE functions with a **weighted rule** system:\r\n* You have to define the rules of your engine, the ones that will make the engine interested or not to an element\r\n* Each rule is associated with a weight/importance indice you define; the most important it is to match the rule, the heavier you define its weight.\r\n* All elements have a weight, which is nil if it does not match any rule\r\n* Each element that matches the rule sees the weight of this rule added to it\r\n* Finally, elements are sorted by descending weight; so, the return is an Array ordered by relevance.\r\n\r\n## How to use WSE?\r\n\r\nYou will need three simple steps before you can perform a search:\r\n### 1. Instantiate\r\nFirst, create an instance of WSE using a PDO object:\r\n```php\r\n$db = new PDO('mysql:host=localhost;dbname=db','user','password');\r\n$engine = new WSE($db);\r\n```\r\n\r\n### 2. Set rules\r\nSet the rules of your engine and the impact its gonna have on the search (weight).\r\nAt list one rule must be added to the engine.\r\nSeveral methods exists that allow you adding a rule:\r\n\r\n#### 2.1. The addCustom Method\r\nThe basic way of setting a rule is to use `WSE::addCustom($query, $table, $weight=1)` method.\r\n\r\n*Exemple: assuming the current word is \"captain132\":*\r\n```php\r\n$engine->addCustom('SELECT * FROM `:table` WHERE `nick`=\":rowval\"', 'users', 10);\r\n//Will perform\r\n$db->query('SELECT * FROM `users` WHERE `nick`=\"captain132\"');\r\n```\r\nNote that addCustom will **always and strictly** replace *:table* by `$table`'s value, and *:rowval* by the current word's value; no quotes are added.\r\n\r\n#### 2.2. The addEquals Method\r\nThe addEquals method (`WSE::addEquals($row, $table, $weight=1)`) will consider a match only if the current word's value is exactly the same as the `$row` value into `$table`.\r\n\r\n*Exemple: assuming the current word is \"house\":*\r\n```php\r\n$engine->addEquals('type', 'housing', 10);\r\n//Is the same as\r\n$engine->addCustom('SELECT * FROM `:table` WHERE `type`=\":rowval\"', 'housing', 10);\r\n```\r\n\r\n#### 2.3. The addLikes Method\r\nThe addLikes method (`WSE::addLikes($row, $table, $weight=1, $notequal=true)`) will consider a match if the current word's value is contained inside the `$row` value into `$table`.\r\nNote that if `$notequal` is set to true (default), addLike will ignore the case where the current word's value is exactly the same as `$row`, which is recommended unless the engine has no *addEquals* like rules.\r\n\r\n*Exemple: assuming the current word is \"pi\":*\r\n```php\r\n$engine->addLikes('word', 'dictionnary', 10);\r\n//Is the same as\r\n$engine->addCustom('SELECT * FROM `:table` WHERE `word` LIKE %\":rowval\"%', 'dictionary', 10);\r\n//And it works for \"pirate\",\"apiarist\",etc..., but not for \"pi\"\r\n```\r\n\r\n### 3. Filter\r\nIt is possible to add filters to the search engine.\r\nThese filters act to the input string of the search function before any database interaction.\r\n\r\n#### 3.1. Using Filters\r\nYou can add a filter using `WSE::addLikes($filter)` method.\r\nIn the version 1.0.0, WSE only provides you one filter: **the whitespace filter**\r\nYou'll find this filter as `$engine->filter_whitespaces`.\r\n\r\n#### 3.2. Adding Custom Filters\r\nYou can add a custom filter sending to `WSE::addFilter($filter)` a function that take as first argument the input string and as second argument the separator that will be used for cutting the filtered query string into words.\r\nIt has to return the filtered string.\r\n\r\n*Exemple: here, we are adding a filter that replace all \"a\" chars by the separator*\r\n```php\r\n$engine->addFilter(function($input, $separator){\r\n\treturn str_replace('a', $separator, $input);\r\n});\r\n```\r\n\r\n### Search\r\nNow your engine is set, you can search whatever you want.\r\nTo search, use the method `WSE::search($str, $separator)`, with `$str` the query string and `$separator` the chars that are gonna be used for cutting the query into words.\r\nThis method can be called several times, it won't change the rules or the filters.\r\n\r\n*Notes:*\r\n* `WSE::search($str, $separator)` return a multidimensional array ordered by pertinence which contains table lines arrays; The name of the table it comes from is stored at the index `_wse_table_`.\r\n* You can access the execution time using the method `double WSE::getLastExecutionTime()` (time in seconds)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}